(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,o){e.exports=o("2f39")},"183a":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o("7037"),r=o.n(n);o("c5f6"),o("6b54"),o("06db");function a(e){var t=Array.isArray(e)?[]:{};for(var o in e)e.hasOwnProperty(o)&&("object"===r()(e[o])?t[o]=a(e[o]):t[o]=e[o]);return t}},2550:function(e){e.exports=JSON.parse('{"name":"图层","layer":{"backColor":"#eee","backgroundImage":"","widthHeightRatio":"","width":800,"height":600},"components":[{"type":"rect","action":[{"type":"click","action":"visible","showItems":["459e668d-74cb-9da0-83de-0344ca2e0bfd"],"hideItems":[]}],"dataBind":{"sn":"","title":"","biz":"","queryParam":{}},"style":{"position":{"x":101,"y":146,"w":82,"h":49},"backColor":"transparent","foreColor":"grey","zIndex":1,"transform":0,"radius":0,"visible":true,"borderWidth":0,"borderStyle":"solid","borderColor":"#ccccccff","temp":{"position":{"x":101,"y":146}}},"identifier":"4e1ddf24-3b3b-b13c-a7c5-d0137067b1ae","name":"rect0"},{"type":"text","action":[],"dataBind":{"sn":"","title":"","biz":"","queryParam":{}},"style":{"position":{"x":132,"y":39,"w":552,"h":51},"backColor":"transparent","foreColor":"#fc0808","zIndex":1,"transform":0,"text":"Web组态功能","textAlign":"center","fontSize":"28","fontFamily":{"label":"微软雅黑","value":"微软雅黑"},"visible":true,"borderWidth":0,"borderStyle":"solid","borderColor":"#ccccccff","temp":{"position":{"x":132,"y":39}}},"identifier":"fcf270c6-2079-c81b-26ef-d4e06bbd11de","name":"text1"},{"type":"circular","action":[],"dataBind":{"sn":"","title":"","biz":"","queryParam":{}},"style":{"position":{"x":220,"y":177,"w":60,"h":58},"backColor":"transparent","foreColor":"grey","zIndex":1,"transform":0,"visible":true,"borderWidth":0,"borderStyle":"solid","borderColor":"#ccccccff","temp":{"position":{"x":220,"y":177}}},"identifier":"459e668d-74cb-9da0-83de-0344ca2e0bfd","name":"circular2"},{"type":"rect","action":[{"type":"click","action":"visible","showItems":[],"hideItems":["459e668d-74cb-9da0-83de-0344ca2e0bfd"]}],"dataBind":{"sn":"","title":"","biz":"","queryParam":{}},"style":{"position":{"x":100,"y":220,"w":82,"h":49},"backColor":"transparent","foreColor":"grey","zIndex":1,"transform":0,"radius":0,"visible":true,"borderWidth":0,"borderStyle":"solid","borderColor":"#ccccccff","temp":{"position":{"x":100,"y":220}}},"identifier":"4358bf28-8cd9-73ef-ddae-4b4c1908b4e1","name":"rect3"},{"type":"text","action":[],"dataBind":{"sn":"","title":"","biz":"","queryParam":{}},"style":{"position":{"x":154,"y":114,"w":109,"h":30},"backColor":"transparent","foreColor":"#000000","zIndex":1,"transform":0,"text":"点击显示圆形","textAlign":"center","fontSize":14,"fontFamily":"Arial","visible":true,"borderWidth":0,"borderStyle":"solid","borderColor":"#ccccccff","temp":{"position":{"x":226,"y":327}}},"identifier":"09bc6147-33dd-cbae-b7d2-1bb80cda0c86","name":"text4"},{"type":"text","action":[],"dataBind":{"sn":"","title":"","biz":"","queryParam":{}},"style":{"position":{"x":152,"y":272,"w":109,"h":30},"backColor":"transparent","foreColor":"#000000","zIndex":1,"transform":0,"text":"点击隐藏圆形","textAlign":"center","fontSize":14,"fontFamily":"Arial","visible":true,"borderWidth":0,"borderStyle":"solid","borderColor":"#ccccccff","temp":{"position":{"x":179,"y":139}}},"identifier":"6fb64872-9222-0f12-a89f-91233521ec32","name":"text5"},{"type":"line-arrow","action":[],"dataBind":{"sn":"","title":"","biz":"","queryParam":{}},"style":{"position":{"x":68,"y":367,"w":300,"h":30},"backColor":"transparent","foreColor":"grey","zIndex":1,"transform":0,"lineWidth":2,"visible":true,"borderWidth":0,"borderStyle":"solid","borderColor":"#ccccccff","temp":{"position":{"x":235,"y":420}}},"identifier":"38ba8693-04c0-2021-dcde-6520757d1690","name":"line-arrow6"},{"type":"chart-gauge","action":[],"dataBind":{"sn":"","title":"","biz":"","queryParam":{}},"style":{"position":{"x":451,"y":103,"w":300,"h":300},"backColor":"white","zIndex":1,"visible":true,"transform":0,"borderWidth":0,"borderStyle":"solid","borderColor":"#ccccccff","temp":{"position":{"x":549,"y":203}}},"identifier":"eb896e39-0027-fb07-97be-932fc3d7efa1","name":"chart-gauge8"},{"type":"image","action":[],"dataBind":{"sn":"","title":"","biz":"","queryParam":{}},"style":{"position":{"x":439,"y":415,"w":205,"h":115},"backColor":"transparent","zIndex":1,"url":"statics/topo/office/chair1.png","visible":true,"transform":0,"borderWidth":0,"borderStyle":"solid","borderColor":"#ccccccff","temp":{"position":{"x":574,"y":497}}},"identifier":"c4f8aa7d-cdbd-896e-2a19-e2ef39a0e949","name":"image8"}]}')},"2f39":function(e,t,o){"use strict";o.r(t);var n={};o.r(n),o.d(n,"getTopoConfigData",(function(){return N})),o.d(n,"getSelectedComponents",(function(){return _}));var r={};o.r(r),o.d(r,"execute",(function(){return U})),o.d(r,"undo",(function(){return X})),o.d(r,"redo",(function(){return Y})),o.d(r,"setSelectedComponent",(function(){return Z})),o.d(r,"addSelectedComponent",(function(){return ee})),o.d(r,"removeSelectedComponent",(function(){return te})),o.d(r,"clearSelectedComponent",(function(){return oe})),o.d(r,"setLayerSelected",(function(){return ne})),o.d(r,"setCopySrcItems",(function(){return re})),o.d(r,"increaseCopyCount",(function(){return ae}));var a={};o.r(a),o.d(a,"loadDefaultTopoData",(function(){return ce}));var i=o("a34a"),c=o.n(i),s=(o("a481"),o("96cf"),o("5c7d"),o("e54f"),o("62f2"),o("7e6d"),o("a026")),d=o("b05d"),l=o("4d5a"),p=o("9898"),u=o("f2cc"),f=o("c7a0"),m=o("2ea3"),b=o("65c6"),y=o("6ac5"),h=o("9c40"),C=o("0016"),v=o("497d"),x=o("6ab5"),g=o("033f"),w=o("e208"),k=o("54b4"),S=o("ddd8"),Q=o("27f9"),I=o("b498"),z=o("c1d0"),P=o("7cbe"),D=o("714f"),W=o("7f67"),B=o("2a19");s["a"].use(d["a"],{config:{},components:{QLayout:l["a"],QHeader:p["a"],QDrawer:u["a"],QPageContainer:f["a"],QPage:m["a"],QToolbar:b["a"],QToolbarTitle:y["a"],QBtn:h["a"],QIcon:C["a"],QList:v["a"],QItem:x["a"],QItemSection:g["a"],QItemLabel:w["a"],QExpansionItem:k["a"],QSelect:S["a"],QInput:Q["a"],QColor:I["a"],QSlider:z["a"],QPopupProxy:P["a"]},directives:{Ripple:D["a"],ClosePopup:W["a"]},plugins:{Notify:B["a"]}});var M=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"q-app"}},[o("router-view")],1)},q=[],A={name:"App"},E=A,L=o("6691"),O=Object(L["a"])(E,M,q,!1,null,null,null),T=O.exports,V=o("2f62"),j={},F=o("a709"),$=o("8d6f"),H=o("5781"),J={namespaced:!0,state:j,getters:F,mutations:$,actions:H},R={topoData:{name:"--",layer:{backColor:"",backgroundImage:"",widthHeightRatio:"",width:1600,height:900},components:[]},selectedIsLayer:!0,selectedComponent:null,selectedComponents:[],selectedComponentMap:{},copySrcItems:[],copyCount:0,undoStack:[],redoStack:[]},N=function(e){return e.topoData},_=function(e){return e.selectedComponents},G=(o("55dd"),o("7f7f"),o("1732")),K=o("183a"),U=function(e,t){switch(t.op){case"add":var o=t.component,n=G["a"];o.identifier=n(),o.name=o.type+e.topoData.components.length,o.style.visible=!0,o.style.transform=0,o.style.borderWidth=o.style.borderWidth?o.style.borderWidth:0,o.style.borderStyle=o.style.borderStyle?o.style.borderStyle:"solid",o.style.borderColor=o.style.borderColor?o.style.borderColor:"#ccccccff",e.topoData.components.push(o);break;case"del":for(var r=[],a=0;a<e.topoData.components.length;a++){var i=e.topoData.components[a].identifier;void 0!=e.selectedComponentMap[i]&&r.push(a)}r.sort((function(e,t){return e-t}));for(a=r.length-1;a>=0;a--)e.topoData.components.splice(r[a],1);break;case"move":var c=t.dx,s=t.dy;for(var d in t.items){o=t.items[d];o.style.position.x=o.style.position.x+c,o.style.position.y=o.style.position.y+s}break;case"copy-add":this.commit("topoEditor/clearSelectedComponent");n=G["a"];for(var l=0;l<t.items.length;l++){var p=t.items[l];o=Object(K["a"])(p);o.identifier=n(),o.name=o.type+e.topoData.components.length,o.style.visible=!0,o.style.position.x=o.style.position.x+25*(e.copyCount+1),o.style.position.y=o.style.position.y+25*(e.copyCount+1),e.topoData.components.push(o),this.commit("topoEditor/addSelectedComponent",o),this.commit("topoEditor/increaseCopyCount")}break;default:console.warn("不支持的命令.");break}e.undoStack.push(t)},X=function(e){var t=e.undoStack.pop();if(void 0!=t){switch(t.op){case"add":for(var o=t.component,n=e.topoData.components.length-1;n>=0;n--)if(o.identifier==e.topoData.components[n].identifier){e.topoData.components.splice(n,1);break}break;case"del":break;case"move":var r=t.dx,a=t.dy;for(var i in e.selectedComponentMap){o=e.selectedComponentMap[i];o.style.position.x=o.style.position.x-r,o.style.position.y=o.style.position.y-a}break;case"copy-add":console.log("undo暂不支持：copy-add");break;default:break}e.redoStack.push(t)}else console.log("none undo command.")},Y=function(e){var t=e.redoStack.pop();void 0!=t?this.commit("topoEditor/execute",t):console.log("none redo command.")},Z=function(e,t){var o=G["a"];t.identifier||(t.identifier=o()),e.selectedComponents=[t.identifier],e.selectedComponentMap={},s["a"].set(e.selectedComponentMap,t.identifier,t),s["a"].set(e,"selectedComponent",t)},ee=function(e,t){var o=G["a"];t.identifier||(t.identifier=o()),e.selectedComponentMap[t.identifier]||(e.selectedComponents.push(t.identifier),s["a"].set(e.selectedComponentMap,t.identifier,t),1==e.selectedComponents.length?s["a"].set(e,"selectedComponent",t):s["a"].set(e,"selectedComponent",null))},te=function(e,t){if(t.identifier){for(var o=-1,n=0;n<e.selectedComponents.length;n++)if(e.selectedComponents[n]==t.identifier){o=n;break}if(o>-1&&e.selectedComponents.splice(o,1),s["a"].delete(e.selectedComponentMap,t.identifier),null!=e.selectedComponent&&t.identifier==e.selectedComponent.identifier&&s["a"].set(e,"selectedComponent",null),1==e.selectedComponents.length){var r=e.selectedComponentMap[e.selectedComponents[0]];s["a"].set(e,"selectedComponent",r)}}},oe=function(e){for(var t in e.selectedComponents=[],e.selectedComponentMap)s["a"].delete(e.selectedComponentMap,t);s["a"].set(e,"selectedComponent",null)},ne=function(e,t){e.selectedIsLayer=t},re=function(e,t){e.copySrcItems=t,e.copyCount=0},ae=function(e){e.copyCount++},ie=o("2550"),ce=function(e){e.state.topoData=ie},se={namespaced:!0,state:R,getters:n,mutations:r,actions:a};s["a"].use(V["a"]);var de=function(){var e=new V["a"].Store({modules:{example:J,topoEditor:se}});return e},le=o("8c4f"),pe=[{path:"/",component:function(){return o.e("2d21eaa9").then(o.bind(null,"d711"))},children:[{path:"",component:function(){return Promise.all([o.e("4b158788"),o.e("4f201d3c")]).then(o.bind(null,"f8cc"))}}]},{path:"/fullscreen",name:"TopoFullscreen",component:function(){return Promise.all([o.e("4b158788"),o.e("243bf772")]).then(o.bind(null,"251e"))}}];pe.push({path:"*",component:function(){return o.e("4b47640d").then(o.bind(null,"e51e"))}});var ue=pe;s["a"].use(le["a"]);var fe=function(){var e=new le["a"]({scrollBehavior:function(){return{y:0}},routes:ue,mode:"history",base:"/WebTopo/dist/spa/"});return e},me=function(){var e="function"===typeof de?de({Vue:s["a"]}):de,t="function"===typeof fe?fe({Vue:s["a"],store:e}):fe;e.$router=t;var o={el:"#q-app",router:t,store:e,render:function(e){return e(T)}};return{app:o,store:e,router:t}},be=o("a925"),ye={failed:"Action failed",success:"Action was successful"},he={"en-us":ye},Ce=function(e){var t,o;return c.a.async((function(n){while(1)switch(n.prev=n.next){case 0:t=e.app,o=e.Vue,o.use(be["a"]),t.i18n=new be["a"]({locale:"en-us",fallbackLocale:"en-us",messages:he});case 3:case"end":return n.stop()}}))},ve=o("bc3a"),xe=o.n(ve),ge=function(e){var t;return c.a.async((function(o){while(1)switch(o.prev=o.next){case 0:t=e.Vue,t.prototype.$axios=xe.a;case 2:case"end":return o.stop()}}))},we=o("98fc"),ke=o.n(we),Se=function(e){var t;return c.a.async((function(o){while(1)switch(o.prev=o.next){case 0:t=e.Vue,t.prototype.$x2js=new ke.a;case 2:case"end":return o.stop()}}))},Qe=o("448a"),Ie=o.n(Qe);function ze(){this.msgQueues={}}ze.prototype={on:function(e,t){this.msgQueues.hasOwnProperty(e)?"function"===typeof this.msgQueues[e]?this.msgQueues[e]=[this.msgQueues[e],t]:this.msgQueues[e]=[].concat(Ie()(this.msgQueues[e]),[t]):this.msgQueues[e]=t},one:function(e,t){this.msgQueues[e]=t},emit:function(e,t){this.msgQueues.hasOwnProperty(e)&&("function"===typeof this.msgQueues[e]?this.msgQueues[e](t):this.msgQueues[e].map((function(e){e(t)})))},off:function(e){this.msgQueues.hasOwnProperty(e)&&delete this.msgQueues[e]}};var Pe=new ze,De=Pe,We=function(e){e.app,e.router,e.store;var t=e.Vue;t.prototype.SimpleEventBus=De},Be=me(),Me=Be.app,qe=Be.store,Ae=Be.router;function Ee(){var e,t,o,n,r;return c.a.async((function(a){while(1)switch(a.prev=a.next){case 0:e=!0,t=function(t){e=!1,window.location.href=t},o=window.location.href.replace(window.location.origin,""),n=[Ce,ge,Se,We],r=0;case 5:if(!(!0===e&&r<n.length)){a.next=23;break}if("function"===typeof n[r]){a.next=8;break}return a.abrupt("continue",20);case 8:return a.prev=8,a.next=11,c.a.awrap(n[r]({app:Me,router:Ae,store:qe,Vue:s["a"],ssrContext:null,redirect:t,urlPath:o}));case 11:a.next=20;break;case 13:if(a.prev=13,a.t0=a["catch"](8),!a.t0||!a.t0.url){a.next=18;break}return window.location.href=a.t0.url,a.abrupt("return");case 18:return console.error("[Quasar] boot error:",a.t0),a.abrupt("return");case 20:r++,a.next=5;break;case 23:if(!1!==e){a.next=25;break}return a.abrupt("return");case 25:new s["a"](Me);case 26:case"end":return a.stop()}}),null,null,[[8,13]])}Ee()},5781:function(e,t){},"7e6d":function(e,t,o){},"8d6f":function(e,t){},a709:function(e,t){}},[[0,"runtime","vendor"]]]);